{% extends 'base.html' %}
{% block content %}

<h1 align="center">Hey, {{ user.username }}!</h1><br>

<div class=row>

  <div class="col-xs-6">
    <h3>Before you search, check your delivery info</h3><br>

    <p>Delivery address: {{ address }} <br>
     Favorite cuisine: {{ user.fav_cuisine }}
    </p><br>

    <button type="button" id="update">Update your information</button>
    <form action="/update-account" class="hidden" id="updateform" method="post">
      Username:
      <input type="text" name="username" value="{{ user.username }}"><br><br>
      Email:
      <input type="text" name="email" value="{{ user.email }}"><br><br>
      Street Address:
      <input type="text" name="address" value="{{ user.st_address }}"><br><br>
      City:
      <input type="text" name="city" value="{{ user.city }}"><br><br>
      State:
      <select name="state">
        {% for state, abbr in all_states.items()|sort %}
          <option value="{{ abbr }}" 
            {% if abbr == user.state %}
              selected
            {% endif %} >{{ state }}</option>
        {% endfor %}
      </select><br><br>
      Zipcode:
      <input type="text" name="zipcode" value="{{ user.zipcode }}"><br><br>
      Favorite type of restaurant:
      <input type="text" name="cuisine" value="{{ user.fav_cuisine }}"><br><br>
      <input type="submit" value="Submit">
    </form>
    <br>

    <h3>Search by restaurant or cuisine</h3>
    <form action="/search-results" method="get">
      What are you craving? <input type="text" name="search" id="search"><br><br>
      <input type="submit" value="I'm so Hangry!">
    </form><br><br>
  </div>

  <div class="col-xs-6" align="center">
    <h3>Not sure what you want?</h3>
    <h5>These are the top 5 types of restaurants in your delivery area</h3>
    <canvas id="donutChart" style="height: 750 width: 750"></canvas>
  </div>
</div>


{% endblock %}

{% block scripts %}

  <script src="/static/cuisine_chart.js"></script>
  <script src="/static/forms.js"></script>

{% endblock %}