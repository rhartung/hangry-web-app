{% extends 'base.html' %}
{% block content %}

{% if restaurant_list %}
  <h1>Get ready to eat, {{ user.username }}</h1>

  <h3>You searched for {{ search_term }}, here are your results</h3>
  <h5>Click a restaurant to display more information</h5>

  <div id="restaurant-list" style="display: inline-block">
    <ul>
      {% for name, yelp_rating in restaurant_list %}
        <li><button class ="restaurant" value="{{ name }}">{{ name }}:
          Yelp Rating = {{ yelp_rating }}</button>
          <button class="menu" value="{{ name }}">Menu</button>
        </li>

      {% endfor %}
    </ul><br>
  </div>

  <div class="reviews" style="display: inline-block"></div>
  <div class="photos" style="display: inline-block"></div>
  <div id="menu"></div>

  {% raw %}

  <script id="menu-template" type="text/x-handlebars-template">

    {{#each menu}}
      <h3>{{name}}</h3>
      {{#each items}}
        {{name}}: {{description}} ${{basePrice}}<br>
      {{/each}}
    {{/each}}

  </script>

  {% endraw %}

  <p>
    <form action="/search-results" method="get">
      Search Again: <input type="text" name="search">
      <input type="submit" value="Let's try again">
    </form>
  </p>

{% else %}
  <h1>OMG, {{ user.username }}, no restaurants match your search for
    {{ search_term }}.</h1>
  <h3>That's sad.</h3>

  <p>
    <form action="/search-results" method="get">
      Search Again: <input type="text" name="search">
      <input type="submit" value="Let's try again">
    </form>
  </p>

  <p>Try one of these common search terms:<br>
    <form action="/search-results" method="GET">
      <select name="search">
        {% for cuisine in cuisines %}
        <option value={{ cuisine }}>{{ cuisine }}</option>
        {% endfor %}
      </select>
      <input type="submit" value="I just wanna eat!"><br><br>
    </form>
  </p>
{% endif %}


{% endblock %}

{% block scripts %}

  <script src="/static/more_info.js"></script>
  <script src="/static/menu.js"></script>

{% endblock %}